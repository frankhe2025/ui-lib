import e,{useState as t,useEffect as n}from"react";var a=function(t){return e.createElement("button",{className:"text-lg p-2 text-red-500 border-solid border-2"},t.title)},o=function(e){void 0===e&&(e=null),this.key="",this.label="",this.type="string",e&&(this.key=Object.keys(e)[0],this.label=this.key,this.type,e[this.key])},r=function(){function e(e,t,n){void 0===e&&(e=null),void 0===t&&(t=0),void 0===n&&(n=0),this.total=1e4,this.pageSize=20,this.colums=[],this.currentPage=1,this.totalShownPages=10,t>0&&(this.total=t),n>0&&(this.pageSize=n),e&&this.setColumnsFromData(e)}return e.prototype.clone=function(){var t=new e;return t.total=this.total,t.pageSize=this.pageSize,t.currentPage=this.currentPage,t.colums=this.colums,t.totalShownPages=this.totalShownPages,t},e.prototype.setColumnsFromData=function(e){var t=[];e&&e.dataListRowCells.forEach((function(e){var n={};n[e.key]=e.value,t.push(new o(n))})),this.colums=t},Object.defineProperty(e.prototype,"totalPages",{get:function(){return Math.floor(this.total/this.pageSize)},enumerable:!1,configurable:!0}),e.prototype.setCurrentPage=function(e){this.currentPage=e},Object.defineProperty(e.prototype,"shownPages",{get:function(){var e=this.currentPage-this.totalShownPages/2;e<1&&(e=1);var t=e+this.totalShownPages;this.currentPage>this.totalPages&&(this.currentPage=this.totalPages);for(var n=[],a=e;a<=t;a++)n.push(a);return n},enumerable:!1,configurable:!0}),e}(),s=function(e){this.key="",this.value="",e&&(this.key=e.key||"",this.value=e.value||"")},i=function(e){void 0===e&&(e={});var t=this;this.dataListRowCells=[],Object.keys(e).forEach((function(n){t.dataListRowCells.push(new s({key:n,value:e[n]}))}))},l=function(e){void 0===e&&(e=[]);var t=this;this.dataListRows=[],e.forEach((function(e){t.dataListRows.push(new i(e))}))},c=function(a){var o=t([]),r=o[0],s=o[1];n((function(){s(a.config.shownPages)}),[a.config]);var i=function(e){a.config.setCurrentPage(e),s(a.config.shownPages),a.onPageChange&&a.onPageChange(e,a.config.pageSize)};return e.createElement("div",null,e.createElement("span",{className:"m-1 hover:underline cursor-pointer",onClick:function(){return i(1)}},"First"),e.createElement("span",{className:"m-1 hover:underline cursor-pointer",onClick:function(){i(a.config.currentPage-1)}},"Prev"),r.map((function(t){return e.createElement("span",{className:"m-1 hover:underline cursor-pointer "+(t===a.config.currentPage?"text-blue-600 font-bold":""),onClick:function(){return i(t)}},t)})),e.createElement("span",{className:"m-1 hover:underline cursor-pointer",onClick:function(){return i(a.config.currentPage+1)}},"Next"),e.createElement("span",{className:"m-1 hover:underline cursor-pointer",onClick:function(){return i(a.config.totalPages)}},"Last"),e.createElement("span",{className:"ml-2"},"Total Records: ",a.config.total))},u=function(a){var o=function(){var e=t(null),n=e[0],a=e[1],o=t(new r),s=o[0],i=o[1],c={setDataList:function(e){var t=new l(e);a(t),s.setColumnsFromData(t.dataListRows[0])},setTotalCount:function(e){s.total=e,i(s.clone())}};return{dataList:n,tableConfig:s,handler:c}}(),s=o.dataList,i=o.tableConfig,u=o.handler;return n((function(){u.setDataList(a.data)}),[a.data]),n((function(){u.setTotalCount(a.total)}),[a.total]),e.createElement("div",{className:"wrapper"},s&&e.createElement("div",{className:"body"},e.createElement("table",{className:"border-collapse border border-slate-400 table-auto  w-full"},e.createElement("thead",{className:"bg-gray-100"},e.createElement("tr",null,i.colums.map((function(t){return e.createElement("th",{className:"border border-slate-300 "},t.label)})))),s&&e.createElement("tbody",null,s.dataListRows.map((function(t){return e.createElement("tr",null,t.dataListRowCells.map((function(t){return e.createElement("td",{className:"border border-slate-300"},t.value)})))})))),e.createElement(c,{config:i,onPageChange:a.onPageChange})))};function h(e,t,n){if(n||2===arguments.length)for(var a,o=0,r=t.length;o<r;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var f=require("tailwindcss/defaultTheme");h(["Lato"],f.fontFamily.sans,!0),h(["Lora"],f.fontFamily.serif,!0),h(["Roboto Mono"],f.fontFamily.mono,!0);export{a as Button,u as Table};
//# sourceMappingURL=index.js.map
