"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=t(e),n=function(e){void 0===e&&(e=null),this.key="",this.label="",this.type="string",e&&(this.key=Object.keys(e)[0],this.label=this.key,this.type,e[this.key])},r=function(){function e(e,t,a){void 0===e&&(e=null),void 0===t&&(t=0),void 0===a&&(a=0),this.total=1e4,this.pageSize=20,this.colums=[],this.currentPage=1,this.totalShownPages=10,t>0&&(this.total=t),a>0&&(this.pageSize=a),e&&this.setColumnsFromData(e)}return e.prototype.clone=function(){var t=new e;return t.total=this.total,t.pageSize=this.pageSize,t.currentPage=this.currentPage,t.colums=this.colums,t.totalShownPages=this.totalShownPages,t},e.prototype.setColumnsFromData=function(e){var t=[];e&&e.dataListRowCells.forEach((function(e){var a={};a[e.key]=e.value,t.push(new n(a))})),this.colums=t},Object.defineProperty(e.prototype,"totalPages",{get:function(){return Math.floor(this.total/this.pageSize)},enumerable:!1,configurable:!0}),e.prototype.setCurrentPage=function(e){this.currentPage=e},Object.defineProperty(e.prototype,"shownPages",{get:function(){var e=this.currentPage-this.totalShownPages/2;e<1&&(e=1);var t=e+this.totalShownPages;this.currentPage>this.totalPages&&(this.currentPage=this.totalPages);for(var a=[],n=e;n<=t;n++)a.push(n);return a},enumerable:!1,configurable:!0}),e}(),o=function(e){this.key="",this.value="",e&&(this.key=e.key||"",this.value=e.value||"")},s=function(e){void 0===e&&(e={});var t=this;this.dataListRowCells=[],Object.keys(e).forEach((function(a){t.dataListRowCells.push(new o({key:a,value:e[a]}))}))},l=function(e){void 0===e&&(e=[]);var t=this;this.dataListRows=[],e.forEach((function(e){t.dataListRows.push(new s(e))}))},i=function(t){var n=e.useState([]),r=n[0],o=n[1];e.useEffect((function(){o(t.config.shownPages)}),[t.config]);var s=function(e){t.config.setCurrentPage(e),o(t.config.shownPages),t.onPageChange&&t.onPageChange(e,t.config.pageSize)};return a.default.createElement("div",null,a.default.createElement("span",{className:"m-1 hover:underline cursor-pointer",onClick:function(){return s(1)}},"First"),a.default.createElement("span",{className:"m-1 hover:underline cursor-pointer",onClick:function(){s(t.config.currentPage-1)}},"Prev"),r.map((function(e){return a.default.createElement("span",{className:"m-1 hover:underline cursor-pointer "+(e===t.config.currentPage?"text-blue-600 font-bold":""),onClick:function(){return s(e)}},e)})),a.default.createElement("span",{className:"m-1 hover:underline cursor-pointer",onClick:function(){return s(t.config.currentPage+1)}},"Next"),a.default.createElement("span",{className:"m-1 hover:underline cursor-pointer",onClick:function(){return s(t.config.totalPages)}},"Last"),a.default.createElement("span",{className:"ml-2"},"Total Records: ",t.config.total))};function u(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var c=require("tailwindcss/defaultTheme");u(["Lato"],c.fontFamily.sans,!0),u(["Lora"],c.fontFamily.serif,!0),u(["Roboto Mono"],c.fontFamily.mono,!0),exports.Button=function(e){return a.default.createElement("button",{className:"text-lg p-2 text-red-500 border-solid border-2"},e.title)},exports.Table=function(t){var n=function(){var t=e.useState(null),a=t[0],n=t[1],o=e.useState(new r),s=o[0],i=o[1],u={setDataList:function(e){var t=new l(e);n(t),s.setColumnsFromData(t.dataListRows[0])},setTotalCount:function(e){s.total=e,i(s.clone())}};return{dataList:a,tableConfig:s,handler:u}}(),o=n.dataList,s=n.tableConfig,u=n.handler;return e.useEffect((function(){u.setDataList(t.data)}),[t.data]),e.useEffect((function(){u.setTotalCount(t.total)}),[t.total]),a.default.createElement("div",{className:"wrapper"},o&&a.default.createElement("div",{className:"body"},a.default.createElement("table",{className:"border-collapse border border-slate-400 table-auto  w-full"},a.default.createElement("thead",{className:"bg-gray-100"},a.default.createElement("tr",null,s.colums.map((function(e){return a.default.createElement("th",{className:"border border-slate-300 "},e.label)})))),o&&a.default.createElement("tbody",null,o.dataListRows.map((function(e){return a.default.createElement("tr",null,e.dataListRowCells.map((function(e){return a.default.createElement("td",{className:"border border-slate-300"},e.value)})))})))),a.default.createElement(i,{config:s,onPageChange:t.onPageChange})))};
//# sourceMappingURL=index.js.map
